(function(){const buildUtils=(document)=>{const virtualProps=["onAttach","onUpdate"];const isObj=(val)=>typeof val=="object"&&val!==null;const isFunc=(val)=>typeof val=="function";const handleChildren=(children,element,childElements)=>{children.forEach((child)=>{typeof child=="string"?element.appendChild(document.createTextNode(child)):isFunc(child)&&childElements.push(child(element))})};const attributeList="textContent|innerText|innerHTML|className|value|style|checked|selected|src|srcdoc|srcset|tabindex|target".split("|").reduce((result,attribute)=>(result[attribute]=1,result),{});const createElement=(namespace)=>(elementName)=>(attributes,children)=>{const eventListeners=[];let ref={};const element=document.createElementNS(namespace,elementName);const childElements=[];const update=(data)=>{if(attributes.onUpdate&&attributes.onUpdate(data,ref)===!1)return;childElements.forEach((child)=>{isFunc(child.update)&&child.update(data)})};const remove=()=>{eventListeners.forEach((remover)=>remover());element.remove();childElements.forEach((child)=>child.remove())};const setChildren=(newChildren)=>{childElements.forEach((child)=>child.remove());handleChildren(newChildren,element,childElements)};ref={current:element,update,setChildren,remove};Object.entries(attributes||{}).forEach((entry)=>{const[attributeName,attributeValue]=entry;if(attributeName=="style"&&isObj(attributeValue))Object.entries(attributeValue).forEach(([styleName,styleValue])=>{element.style[styleName]=styleValue});else if(!virtualProps.includes(attributeName)){if(attributeName=="ref"&&isObj(attributeValue))Object.assign(attributeValue,ref);else if(attributeName.indexOf("on")===0){const eventName=attributeName.slice(2).toLowerCase();element.addEventListener(eventName,attributeValue);eventListeners.push(()=>element.removeEventListener(eventName,attributeValue))}else attributeList[attributeName]||typeof attributeValue=="boolean"?element[attributeName]=attributeValue:element.setAttribute(attributeName,attributeValue)}});return(parent)=>{const parentNode=parent||document.body;parentNode.appendChild(element);children&&handleChildren(children,element,childElements);attributes.onAttach&&attributes.onAttach(ref);return ref}};return{create:createElement("http://www.w3.org/1999/xhtml"),createSvg:createElement("http://www.w3.org/2000/svg"),qs:(selector)=>document.querySelector(selector),qsAll:(selector)=>Array.from(document.querySelectorAll(selector))}};const utils=buildUtils(document);const elements="a|abbr|address|area|article|aside|audio|b|base|bdi|bdo|blockquote|body|br|button|canvas|caption|cite|code|col|colgroup|data|datalist|dd|del|details|dfn|div|dl|dt|em|embed|fieldset|figcaption|figure|footer|form|h1|h2|h3|h4|h5|h6|head|header|hr|html|i|iframe|img|input|ins|kbd|label|legend|li|link|main|map|mark|meta|meter|nav|noscript|object|ol|optgroup|option|output|p|param|picture|pre|progress|q|ruby|rt|ruby|s|samp|script|section|select|small|source|span|strong|style|sub|summary|sup|table|tbody|td|template|textarea|tfoot|th|thead|time|title|tr|track|u|ul|var|video|wbr".split("|").reduce((agg,next)=>(agg[next]=utils.create(next),agg),{});const svgElements="svg|path|rect".split("|").reduce((agg,next)=>(agg[next]=utils.createSvg(next),agg),{});window.fmk={...utils,elements,svgElements}})();